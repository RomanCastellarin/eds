stream bool result_1 := e.getJSON(message).strcmp(ourmessage,"STOP_TEST")
stream bool pepe := e.path(message) \/ e.path(value)

trigger pepe do emit pepe on #terminate
trigger result_1 do emit result_1 on #terminate

stream bool test1sensor := e.strcmp(appname, "test1") /\ e.strcmp(type,"sensor")
stream bool test1actuator := e.strcmp(appname, "test1") /\ e.strcmp(type,"actuator")
stream bool test1logic := e.strcmp(appname, "test1") /\ e.strcmp(type,"logic")

stream bool test1sensortrigger := e.getnum(svalue.actual) > e.getnum(svalue.threshold)
stream num sensorvalue := e.getnum(svalue.actual)
stream num eventid := e.getnum(id)

trigger test1sensor do emit eventid on #test1sensor
trigger test1actuator do emit eventid on #test1actuator
trigger test1logic do emit eventid on #test1logic

trigger test1sensortrigger do emit `{"myvalue": "%sensorvalue", "myid": "%eventid"}` on #test1sensortrigger
